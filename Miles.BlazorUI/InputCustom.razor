@using System.Linq.Expressions
@if (LabelOnLeft)
{
    <div style="display:flex; flex-direction:row; flex-wrap:nowrap; overflow:hidden; @Style">
        <span style="display:flex; align-items:start;line-height: 1.2; white-space:nowrap; border: 1px solid gray; border-top-left-radius: 4px; border-bottom-left-radius: 4px; border-right: none; box-sizing:border-box; padding: @(Padding); width:fit-content; background-color: #f0f0f0; @LabelStyle">@Label</span>
        <div style="width:100%; min-height: 1.8em;  border: 1px solid gray; outline:none; border-radius: 4px; border-top-left-radius: 0px; border-bottom-left-radius: 0px; box-sizing:border-box; font-family:inherit; font-size:inherit; padding: @(Padding);">
            @ChildContent
        </div>
    </div>
}
else
{
    <div style="display:flex; flex-direction:column; flex-wrap:nowrap; overflow:hidden; @Style">
        <span style="display:flex; align-items:center;line-height: 1.2; white-space:nowrap; border: 1px solid gray; border-bottom: none; border-top-left-radius: 4px; border-top-right-radius: 4px; box-sizing:border-box; padding: @(Padding); width:fit-content; background-color: #f0f0f0;  @LabelStyle">@Label</span>
        <div style="border: 1px solid gray; outline:none; border-radius: 4px; border-top-left-radius: 0px; box-sizing:border-box; font-family:inherit; font-size:inherit; min-width:100%; padding: @(Padding);">
            @ChildContent
        </div>
    </div>
}

@code {
    [Parameter, EditorRequired]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public string? Style { get; set; }

    [Parameter, EditorRequired]
    public string Label { get; set; }

    [Parameter]
    public bool LabelOnLeft { get; set; }

    [Parameter]
    public string? LabelStyle { get; set; }

    [Parameter]
    public string Padding { get; set; } = "4px";

}
